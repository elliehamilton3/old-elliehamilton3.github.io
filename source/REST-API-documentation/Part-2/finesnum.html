<!DOCTYPE html>

<html>
    <head>
        <title>ECS Library API | Loans/&lt;number&gt;</title>
        <link rel="stylesheet" type="text/css" href="css/normalize.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="css/owl.css">
        <link rel="stylesheet" type="text/css" href="css/animate.css">
        <link href="font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" type="text/css" href="css/et-icons.css">
        <link rel="stylesheet" type="text/css" href="css/tooltip.css">
        <link rel="stylesheet" type="text/css" href="css/lightbox.css">
        <link id="main" rel="stylesheet" type="text/css" href="css/publisher.css">
        <link href='https://fonts.googleapis.com/css?family=Roboto+Mono' rel='stylesheet' type='text/css'>
        <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/google/code-prettify/master/styles/desert.css">

         <style>
            nav{
                width:25%;
                float: left;
                height:100%;
            }
           .navbar-default .navbar-nav > li {
               margin-left: 0px;
               float:none;
                
            }
            .navbar-default .navbar-nav > li > a {
                font-size: 14px;
            }
            .navbar-default .navbar-nav > li > a {
                padding-bottom: 10px;
                padding-top: 10px;
            }
           
            section{
                padding-top: 20px;
                padding-bottom: 20px;
            }

            header{
                background: #484d53;
                height:auto;
                padding-top:20px;
                padding-bottom: 30px;
            }
            table { 
                border-collapse: collapse; 
            }
            td{
                padding:10px;
                padding-left: 20px
            }
            tr{
                border-bottom: 1px solid lightgray;
            }
            h3{
                font-size: 20px;
            }
            h2.heading{
                color:#7cc576;
            }
            .code-font{
                font-family: 'Roboto Mono', ;
            }
            .code-font.small{
                font-size: 14px;
                line-height: 20px;
            }
            p.small{
                font-size: 14px;
                line-height: 20px;
                margin: 10px 0;
            }
            .subheading{
                font-size: 18px;
                line-height: 24px;
                margin-top:0px;
                margin-bottom: 0px;
            }
            pre .tag { color: #7cc576; font-weight: bold } /* html/xml tag  */
            .container{
                width:auto;
            }
            .content{
                width:75%;
                float: left;
                padding-right: 5%;
            }
            @media (max-width: 900px) {
                nav{
                    width:300px;
                }
                .content{
                    width:400px;
                    padding-right: 0px;
                }
            }
            .sub-nav{
                font-size: 11px;
            }
            .sub-nav li{
                padding-left: 20px;
            }
        </style>
    </head>
    <body>
        <div id="wrapper" class="behind">
            <header style="height:auto;">
                <div class="container">
                    <h1 class="heading">ECS Library <span style="color:#7cc576;">API</span></h1>
                </div>
            </header>
            <nav class="navbar navbar-default">
                <div class="container">
                    <ul class="nav navbar-nav main-nav ">
                        <li><a href="books.html" class="scrollto">books</a>
                           
                        </li>

                        <li><a href="booksnum.html" class="scrollto">books/&lt;book-id&gt;</a>
                        </li>
                         <li><a href="users.html" class="scrollto">users</a>
                           
                        </li>
                        <li><a href="usersnum.html" class="scrollto">users/&lt;user-id&gt;</a>
                           
                        </li>
                        <li><a href="loans.html" class="scrollto">users/&lt;user-id&gt;/loans</a>
                        
                        </li>

                        <li><a href="loansnum.html" class="scrollto">users/&lt;user-id&gt;/loans/&lt;loan-id&gt;</a>
                        </li>
                        <li><a href="fines.html" class="scrollto">fines</a>
                        </li>
                        <li><a href="finesnum.html" class="scrollto">fines/&lt;fine-id&gt;</a>
                             <ul class="nav sub-nav">
                                <li><a href="#finesnumget" class="scrollto">GET /fines/&lt;fine-id&gt;</a></li>
                                <li><a href="#finesnumhead" class="scrollto">HEAD /fines/&lt;fine-id&gt;</a></li>
                                <li><a href="#finesnumdelete" class="scrollto">DELETE /fines/&lt;fine-id&gt;</a></li>
                                <li><a href="#finesnumoptions" class="scrollto">OPTIONS /fines/&lt;fine-id&gt;</a></li>
                                <li><a href="#finesnumpatch" class="scrollto">PATCH /fines/&lt;fine-id&gt;</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
            <div class="content">
                
                <section id="finesnum">
                    <div class="container">
                        <h2 class="heading">fines/&lt;fine-id&gt;</h2>
                        <h3 class="heading">URI Template</h3>
                        <p class="small code-font">http://waisvm-rfp1.ecs.soton.ac.uk/fines/&lt;fine-id&gt;</p>
                        <h3 class="heading">URI Parameters</h3>
                        <table>
                            <tr>
                                <td><p class="heading small">fine-id</p><p class="subheading small">required</p></td>
                                <td><p class="small">The URI Parameter &lt;fine-id&gt; takes a number which corresponds to the id assigned to the fine. This is automatically assigned by the system to be the first available id in the system which is not already being used. This allows for id's which may have been freed up following the delete of a fine.</p><p class="heading small">Example value: 23</p></td>
                            </tr>
                        </table>
                        <h3 class="heading">HTTP Methods</h3>
                        <p class="small code-font">GET, PATCH, DELETE, HEAD, OPTIONS</p>
                        <h3 class="heading">Response Formats</h3>
                        <table>
                            <tr>
                                <td>Renders Formats</td>
                                <td>XML, JSON, TEXT/CSV</td>
                            </tr>
                            <tr>
                                <td>Parses Formats</td>
                                <td>XML, JSON, TEXT/CSV</td>
                            </tr>
                            <tr>
                                <td>Requires Authentication?</td>
                                <td>Yes - for PATCH and DELETE requests</td>
                            </tr>
                        </table>
                        <h3 class="heading">Example Output</h3>
                        <h4 class="heading code-font" id="finesnumget">GET /fines/1</h4>
                        <p class="small">Returns information about the fine located at /fines/1 with all of the information fields including the amount and the loan the fine is for.</p>
                        <p class="small">When doing a GET request on a particular fine if the current date is after the date set in due date then amount is set to 10p (0.10) for each day the fine is late. The fine is set by the system doing a POST request to /fines for a particular loan to set the amount field of a particular fine, or use a PATCH request to update the amount for a loan (as discussed below).</p>
                        <p class="small">HTTP Status Code:<span class="code-font"> 200 OK</span></p>
                        <p class="heading small">Headers</p>
                        <p class="heading small">Accept: application/xml; (Default)</p>
<pre class="prettyprint language-html">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;root&gt;
    &lt;url&gt;http://waisvm-rfp1.ecs.soton.ac.uk/fines/1&lt;/url&gt;
    &lt;loan&gt;http://waisvm-rfp1.ecs.soton.ac.uk/users/1/loans/1&lt;/loan&gt;
    &lt;amount&gt;1.00&lt;/amount&gt;
    &lt;owner&gt;eh14g13&lt;/owner&gt;
&lt;/root&gt;
</pre>
                        <p class="heading small">Accept: application/json;</p>
<pre class="prettyprint language-js">
{
    "url": "http://waisvm-rfp1.ecs.soton.ac.uk/fines/1",
    "loan": "http://waisvm-rfp1.ecs.soton.ac.uk/users/1/loans/1",
    "amount": "1.00",
    "owner": "eh14g13"
}
</pre>
                        <p class="heading small">Accept: text/csv;</p>
<pre class="prettyprint language-html">
url,loan,amount,owner
http://waisvm-rfp1.ecs.soton.ac.uk/fines/1,http://waisvm-rfp1.ecs.soton.ac.uk/users/1/loans/1,1.00,eh14g13
</pre>
                        <h4 class="heading code-font" id="finesnumhead">HEAD /fines/1</h4>
                        <p class="small">Same as GET but returns only HTTP headers and no document body.</p>
                        <p class="small">HTTP Status Code:<span class="code-font"> 200 OK</span></p>
                        <pre class="prettyprint language-html">
Allow &rarr; GET, PATCH, DELETE, HEAD, OPTIONS
Connection &rarr; Keep-Alive
Content-Type &rarr; application/xml; charset=utf-8
Date &rarr; Mon, 09 Nov 2015 16:56:25 GMT
Keep-Alive &rarr; timeout=5, max=100
Server &rarr; Apache/2.2.22 (Ubuntu)
Vary &rarr; Accept
X-Frame-Options &rarr; SAMEORIGIN
</pre>
                        <h4 class="heading code-font" id="finesnumdelete">DELETE /fines/1</h4>
                        <p class="small">Deletes the fine located at /fines/1, if the user meets the required permissions i.e. if they are the owner of the fine/they created the fine and this functions as part of the paying of the fine. When a fine is paid the user may be redirected back to the loan or back to the list of loans so they may pay another fine or take out another loan.</p>
                        <p class="small">HTTP Status Code:<span class="code-font"> 204 NO CONTENT</span> or if the correct authorization token id not given then returns<span class="code-font"> 403 FORBIDDEN</span></p>
                        
                        <h4 class="heading code-font"id="finesnumoptions">OPTIONS /fines/1</h4>
                        <p class="small">Returns information about the formats which are rendered and parsed by the fines/&lt;fine-id&gt; page.</p>
                        <p class="small">HTTP Status Code:<span class="code-font"> 200 OK</span></p>
                        <pre class="prettyprint language-html">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;root&gt;
    &lt;name&gt;Fine Detail&lt;/name&gt;
    &lt;description&gt;&lt;/description&gt;
    &lt;renders&gt;
        &lt;list-item&gt;application/xml&lt;/list-item&gt;
        &lt;list-item&gt;application/json&lt;/list-item&gt;
        &lt;list-item&gt;text/csv&lt;/list-item&gt;
    &lt;/renders&gt;
    &lt;parses&gt;
        &lt;list-item&gt;application/xml&lt;/list-item&gt;
        &lt;list-item&gt;application/json&lt;/list-item&gt;
        &lt;list-item&gt;text/csv&lt;/list-item&gt;
    &lt;/parses&gt;
&lt;/root&gt;
</pre>
                        <h3 class="heading">Example Input (for modifying a resource)</h3>
                        <h4 class="heading code-font" id="finesnumpatch">PATCH /fines/1</h4>
                        <p class="small">The HTTP method PATCH can be used to update partial resources. For instance, when you only need to update one field of the resource.</p>
                        <p class="small">For a fine a PATCH request is done to update the amount field for a fine as it extends for each day the loan is not paid. A POST request to /fines is done when the fine is first created and then a PATCH request is done to update the fine as it continues to be late until it is paid and a DELETE request is sent.</p>
                        <p class="small">HTTP Status Code:<span class="code-font"> 200 OK</span> or if the correct authorization token id not given then returns<span class="code-font"> 403 FORBIDDEN</span></p>
                        <br/>
                    
                        <p class="small">Format: raw</p>
                        <p class="heading small">Headers</p>
                        <p class="heading small">Content-Type: application/xml;</p>
<pre class="prettyprint language-html">
&lt;root&gt;
&lt;fine&gt;1.10&lt;/fine&gt;
&lt;/root&gt;
</pre>
                        <p class="heading small">Content-Type: application/json;</p>

                        <pre class="prettyprint language-js">
{
"fine": 1.10,
}
</pre>
                        <p class="heading small">Content-Type: text/csv;</p>
<pre class="prettyprint language-html">
fine
1.10
</pre>
                        </br>
                        <p class="small">A GET request on this updated fine (/fines/1) would now return:</p>
                        <p class="heading small">Headers</p>
                        <p class="heading small">Accept: application/xml; (Default)</p>
<pre class="prettyprint language-html">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;root&gt;
    &lt;url&gt;http://waisvm-rfp1.ecs.soton.ac.uk/fines/1&lt;/url&gt;
    &lt;loan&gt;http://waisvm-rfp1.ecs.soton.ac.uk/users/1/loans/1&lt;/loan&gt;
    &lt;amount&gt;1.10&lt;/amount&gt;
    &lt;owner&gt;eh14g13&lt;/owner&gt;
&lt;/root&gt;
</pre>
                        <p class="heading small">Accept: application/json;</p>
<pre class="prettyprint language-js">
{
    "url": "http://waisvm-rfp1.ecs.soton.ac.uk/fines/1",
    "loan": "http://waisvm-rfp1.ecs.soton.ac.uk/users/1/loans/1",
    "amount": "1.10",
    "owner": "eh14g13"
}
</pre>
                        <p class="heading small">Accept: text/csv;</p>
<pre class="prettyprint language-html">
url,loan,amount,owner
http://waisvm-rfp1.ecs.soton.ac.uk/fines/1,http://waisvm-rfp1.ecs.soton.ac.uk/users/1/loans/1,1.10,eh14g13
</pre>
                    </div>
                </section>
                
            </div>
            <footer>
                <div class="container">
                    <div class="row">
                        <div class="col-sm-6 text-left text-center-mobile">
                            <p class="copyright small muted">Copyright &copy; 2015 Bukku Template - All rights reserved!</p>
                        </div>
                    </div>
                </div>
            </footer>

        </div>

        <script src="js/jquery-1.11.1.min.js"></script>
        
        <script src="js/wow.min.js"></script>
        <script src="js/jquery.onepagenav.js"></script>
        <script src="js/core.js"></script>
        <script src="js/tooltip.js"></script>
        <script src="js/jquery.form-validator.js"></script>
        <script src="js/preloader.js"></script>
        <script src="js/main.js"></script>
    </body>
</html>